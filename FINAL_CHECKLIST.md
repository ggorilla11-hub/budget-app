# ✅ 최종 체크리스트 - 배포 전 필수 확인

**프로젝트**: 버짓(Budget) - AI 예산 코치  
**배포 플랫폼**: Vercel  
**점검 날짜**: 2025-10-31

---

## 📋 배포 전 필수 체크리스트

### 1. 인증 & 회원 시스템
- [ ] **회원가입** - Supabase Auth 정상 작동
  - 이메일/비밀번호 회원가입
  - 이메일 인증 발송
  - 사용자 프로필 생성
- [ ] **로그인** - 세션 유지 확인
  - 로그인 성공 후 대시보드 리다이렉트
  - 새로고침 시 세션 유지
  - 로그아웃 정상 작동

### 2. 예산 관리 시스템
- [ ] **예산 자동 생성 (AI)** - OpenAI 연동 확인
  - 소득/가족수/주거형태 입력
  - AI 예산 배분 생성 (50/30/20 규칙)
  - Supabase budgets 테이블 저장
  - 카테고리별 금액 표시
- [ ] **예산 게이지** - 실시간 업데이트 확인
  - 카테고리별 게이지 표시
  - 사용률 계산 정확성
  - 초과 시 빨간색 표시
  - Framer Motion 애니메이션 작동

### 3. 지출 기록 시스템
- [ ] **지출 입력** - ExpenseForm 정상 작동
  - 8가지 카테고리 선택
  - 금액 입력 (숫자 키패드)
  - 메모 입력 (선택)
  - Supabase expenses 테이블 저장
- [ ] **지출 후 업데이트** - 연동 확인
  - 예산 게이지 자동 갱신
  - 최근 지출 목록 표시
  - 포인트 자동 적립 (+10P)
  - 뱃지 조건 자동 체크

### 4. AI 코칭 시스템
- [ ] **AI 코칭 메시지** - OpenAI GPT-4o 확인
  - 주간 지출 분석
  - 예산 사용률 기반 조언
  - Noom 스타일 톤 (공감적)
  - 실행 가능한 팁 제공
- [ ] **코칭 카드 표시** - 대시보드 확인
  - 자동 메시지 생성 (4단계)
  - "자세히 보기" 버튼 작동
  - AI 응답 로딩 상태
  - 에러 처리

### 5. 포인트 & 뱃지 시스템
- [ ] **포인트 적립** - 실시간 업데이트
  - 지출 기록 시 +10P
  - AI 코칭 이용 시 +20P
  - 뱃지 획득 시 보너스 포인트
  - 누적 포인트 표시
- [ ] **레벨 시스템** - 계산 정확성
  - 1000P당 레벨업
  - 진행바 표시 (다음 레벨까지)
  - 레벨 표시 (Lv.X)
- [ ] **뱃지 자동 수여** - 조건 체크
  - 첫 지출 기록 (🎯 첫 걸음)
  - 3일 연속 기록 (🔥 꾸준함)
  - 예산 달성 (🛡️ 예산 지킴이)
  - 뱃지 알림 (예정)

### 6. 결제 시스템
- [ ] **가격 카드 표시** - PricingCard UI
  - 월간 플랜 (₩9,900)
  - 연간 플랜 (₩99,000, 17% 할인)
  - 기능 목록 표시
  - 할인 뱃지 강조
- [ ] **결제 요청 API** - /api/payments/checkout
  - 주문 ID 생성
  - 금액 계산 정확성
  - 주문 정보 반환
- [ ] **토스 페이먼츠 연동** (Phase 7-2 예정)
  - SDK 로드
  - 결제창 표시
  - 성공/실패 처리
  - 웹훅 검증

### 7. 대시보드
- [ ] **메인 대시보드** - 데이터 로딩
  - 이번 달 예산 조회
  - 지출 내역 표시
  - AI 코치 카드
  - 플로팅 버튼 (지출 입력)
- [ ] **반응형 레이아웃** - 모바일 확인
  - 데스크톱 (3열 그리드)
  - 태블릿 (2열 그리드)
  - 모바일 (1열 그리드)
  - 터치 영역 충분

### 8. PWA (Progressive Web App)
- [ ] **PWA 설치** - 홈 화면 추가
  - Chrome "설치" 버튼 표시
  - Safari "홈 화면에 추가"
  - Standalone 모드 작동
  - 아이콘 표시 (192x192, 512x512)
- [ ] **manifest.json** - 설정 확인
  - 앱 이름: "버짓 - AI 예산 코치"
  - 테마 색상: #00C2A8
  - display: standalone
  - icons 배열 정의
- [ ] **오프라인 지원** (Phase 8-2 예정)
  - Service Worker 등록
  - 캐싱 전략
  - 오프라인 페이지

### 9. 성능 최적화
- [ ] **페이지 로딩 속도** - 3초 이내
  - 초기 로딩 시간 측정
  - Time to Interactive (TTI)
  - First Contentful Paint (FCP)
  - Lighthouse 점수 90+
- [ ] **이미지 최적화** - next/image 사용
  - AVIF/WebP 자동 변환
  - 레이지 로딩
  - 적절한 크기 조정
- [ ] **번들 크기** - 최적화 확인
  - JavaScript 번들 < 500KB
  - CSS 번들 < 100KB
  - 코드 스플리팅 적용
  - Tree shaking 적용

### 10. 에러 핸들링
- [ ] **API 에러 처리** - 사용자 친화적 메시지
  - Supabase 연결 실패
  - OpenAI API 할당량 초과
  - 결제 실패
  - 네트워크 에러
- [ ] **폼 검증** - 입력값 체크
  - 필수 항목 누락 경고
  - 유효하지 않은 형식 (이메일, 금액)
  - 중복 제출 방지
  - 로딩 상태 표시
- [ ] **에러 바운더리** - 전체 앱 보호
  - React Error Boundary 설정
  - 에러 페이지 표시
  - Sentry 연동 (선택)
- [ ] **404/500 페이지** - 커스텀 페이지
  - 404 Not Found
  - 500 Server Error
  - 홈으로 돌아가기 버튼

### 11. 보안
- [ ] **환경 변수** - 안전한 관리
  - `.env.local` 파일 .gitignore에 포함
  - Vercel 환경 변수에만 저장
  - `NEXT_PUBLIC_` 접두사 올바른 사용
  - API 키 노출 방지
- [ ] **Supabase RLS** - Row Level Security
  - users 테이블 정책
  - budgets 테이블 정책
  - expenses 테이블 정책
  - 다른 사용자 데이터 접근 차단
- [ ] **API 보호** - 인증 체크
  - API 라우트 인증 확인
  - 서버 전용 키 분리
  - Rate limiting (Vercel)
  - CORS 설정

### 12. SEO & 메타 태그
- [ ] **페이지 메타 태그** - layout.tsx
  - title: "버짓 - AI 예산 코치"
  - description: "예산이 인생을 바꾼다"
  - manifest 링크
  - themeColor 설정
- [ ] **Open Graph** - 소셜 공유
  - og:title
  - og:description
  - og:image (1200x630)
  - og:url
- [ ] **Twitter Card** - 트위터 최적화
  - twitter:card
  - twitter:title
  - twitter:image
- [ ] **robots.txt & sitemap** - SEO 최적화
  - public/robots.txt
  - app/sitemap.ts
  - Google Search Console 등록

---

## 🧪 테스트 시나리오

### 시나리오 1: 신규 사용자 플로우
1. 홈페이지 접속
2. "시작하기" 버튼 클릭
3. 회원가입 (이메일/비밀번호)
4. 이메일 인증 확인
5. 로그인
6. 예산 설정 (AI 자동 생성)
7. 첫 지출 기록
8. 포인트 적립 확인 (+10P)
9. 뱃지 획득 (🎯 첫 걸음)
10. AI 코칭 메시지 확인

### 시나리오 2: 예산 초과 상황
1. 월간 예산 설정 (예: 300만원)
2. 지출 기록 (예: 250만원)
3. 게이지 83% 표시 확인
4. AI 코치 경고 메시지 (⚠️)
5. 추가 지출 기록 (예: 60만원)
6. 예산 초과 표시 (빨간색)
7. AI 코치 초과 메시지 (🚨)

### 시나리오 3: 결제 프로세스
1. 대시보드에서 "프리미엄 업그레이드" 배너 클릭
2. 가격 페이지 (/pricing) 이동
3. 연간 플랜 선택 (₩99,000)
4. "지금 절약하기" 버튼 클릭
5. 결제 정보 생성 확인
6. (Phase 7-2) 토스 페이먼츠 결제창
7. 결제 완료 후 프리미엄 활성화

### 시나리오 4: PWA 설치 (모바일)
1. 모바일 Chrome으로 접속
2. 메뉴 → "홈 화면에 추가"
3. 아이콘 확인 (버짓 로고)
4. 앱처럼 실행 (Standalone)
5. 브라우저 UI 없이 작동

---

## 📊 성능 목표

### Lighthouse 점수 (최소 기준)
- **Performance**: 90+
- **Accessibility**: 95+
- **Best Practices**: 95+
- **SEO**: 100

### Core Web Vitals
- **LCP** (Largest Contentful Paint): < 2.5초
- **FID** (First Input Delay): < 100ms
- **CLS** (Cumulative Layout Shift): < 0.1

### 로딩 시간
- **초기 로딩**: < 3초
- **페이지 전환**: < 1초
- **API 응답**: < 2초

---

## 🔍 최종 확인 명령어

### 로컬 빌드 테스트
```bash
# 프로덕션 빌드
npm run build

# 빌드 결과 확인
npm run start

# 포트 확인
http://localhost:3000
```

### 타입 에러 확인
```bash
npx tsc --noEmit
```

### Lint 검사
```bash
npm run lint
```

### 환경 변수 확인
```bash
# .env.local 파일 존재 확인
ls -la .env.local

# 필수 변수 확인
cat .env.local | grep NEXT_PUBLIC_SUPABASE_URL
cat .env.local | grep OPENAI_API_KEY
```

---

## ✅ 체크리스트 완료 기준

### 필수 항목 (배포 전 100% 완료)
- 인증 & 회원 시스템
- 예산 관리 시스템
- 지출 기록 시스템
- AI 코칭 시스템
- 에러 핸들링
- 보안 설정

### 권장 항목 (배포 후 개선 가능)
- 포인트 & 뱃지 시스템
- 결제 시스템 (토스 페이먼츠)
- PWA 오프라인 지원
- SEO 최적화
- 성능 미세 조정

### 선택 항목 (Phase 2 개선)
- 애널리틱스 연동
- 푸시 알림
- 다국어 지원
- 다크 모드

---

## 🚀 배포 전 마지막 확인

### 1단계: 로컬 테스트 완료
```bash
npm run build && npm run start
```
→ 에러 없이 실행되는지 확인

### 2단계: 환경 변수 Vercel 등록
→ Vercel Dashboard에서 모든 변수 입력

### 3단계: 배포 실행
```bash
vercel --prod
```

### 4단계: 배포 URL 확인
→ https://budget-app.vercel.app

### 5단계: 프로덕션 테스트
→ 위 체크리스트 다시 한 번 확인

---

**최종 체크 완료 후 배포하세요!** 🚀

**예상 배포 시간**: 2-3분  
**배포 플랫폼**: Vercel  
**CDN**: 전 세계 자동 배포  
**HTTPS**: 자동 적용
